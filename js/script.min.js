const buttonSearchHotel=document.querySelector(".search-hotel_button"),modal=document.querySelector(".modal"),modalSearchForm=modal.querySelector(".search-form"),inputArrivalDate=modalSearchForm.querySelector("[name=arrival-date]"),inputDepartureDate=modalSearchForm.querySelector("[name=departure-date]"),inputAdults=modalSearchForm.querySelector("[name=adults]"),inputChildrens=modalSearchForm.querySelector("[name=childrens]"),buttonMinusAdults=modalSearchForm.querySelector(".button__amount-persons_minus-adults"),buttonPlusAdults=modalSearchForm.querySelector(".button__amount-persons_plus-adults"),buttonMinusChildrens=modalSearchForm.querySelector(".button__amount-persons_minus-childrens"),buttonPlusChildrens=modalSearchForm.querySelector(".button__amount-persons_plus-childrens");let isStorageSupport=!0,storageArrivalDate="",storageDepartureDate="",storageAdults="",storageChildren="";try{storageArrivalDate=localStorage.getItem("arrival-date"),storageDepartureDate=localStorage.getItem("departure-date"),storageAdults=localStorage.getItem("adults"),storageChildren=localStorage.getItem("children")}catch(e){isStorageSupport=!1}buttonSearchHotel.addEventListener("click",function(e){e.preventDefault(),modal.classList.toggle("modal-show"),modalSearchForm.classList.remove("modal_error"),modal.classList.contains("modal-show")&&(inputArrivalDate.focus(),storageArrivalDate&&storageDepartureDate&&storageAdults&&storageChildren&&(inputArrivalDate.value=storageArrivalDate,inputDepartureDate.value=storageDepartureDate,inputAdults.value=storageAdults,inputChildrens.value=storageChildren))}),modalSearchForm.addEventListener("submit",function(e){inputArrivalDate.value&&inputDepartureDate.value&&inputAdults.value&&inputChildrens.value?isStorageSupport&&(localStorage.setItem("arrival-date",inputArrivalDate.value),localStorage.setItem("departure-date",inputDepartureDate.value),localStorage.setItem("adults",inputAdults.value),localStorage.setItem("children",inputChildrens.value)):(e.preventDefault(),modalSearchForm.classList.remove("modal_error"),modalSearchForm.offsetWidth=modalSearchForm.offsetWidth,modalSearchForm.classList.add("modal_error"))}),buttonMinusAdults.addEventListener("click",function(){1<inputAdults.value&&(inputAdults.value=+inputAdults.value-1)}),buttonPlusAdults.addEventListener("click",function(){inputAdults.value=+inputAdults.value+1}),buttonMinusChildrens.addEventListener("click",function(){1<=inputChildrens.value&&(inputChildrens.value=+inputChildrens.value-1)}),buttonPlusChildrens.addEventListener("click",function(){inputChildrens.value=+inputChildrens.value+1});